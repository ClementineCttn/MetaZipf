This paper builds on a recently proposed algorithm to construct cities based on geographical features of high-quality micro data (Hernán D. Rozenfeld et al. 2008), rather than informative but somewhat arbitrary legal or administrative definitions. It allows us to take a fresh look at key quantities in urban economics, namely the population and the area of cities. We find that Zipf’s law for population holds quite well, and well below the very upper tail of the city size distribution, where it had been shown to hold to a good degree of approximation (Gabaix and Yannis M. Ioannides 2004). We also find that the distribution of city areas follows a power law, with an exponent close to one, the Zipf value. These findings help constrain further theories of cities and theories of geography. 
A key difficulty in studying cities is finding a practical way to define them (George K. Zipf 1949; Paul Krugman 1996; Jonathan Eaton and Zvi Eckstein 1997; Linda Harris Dobkins and Ioannides 2001; Jan Eeckhout 2004; Kwok Tong Soo 2005; Batty 2006). A canonical method involves defining Metropolitan Statistical Areas (MSAs) obtained in the United States from the Office of Management and Budget and available from the US Census Bureau (2009). MSAs are defined for each major agglomeration and attempt to capture their extent by merging administratively defined entities, counties in the US, based on their social or economic ties (other countries use similar criteria). For instance, the MSA of Boston, MA, includes not only the administrative unit of Boston, but also adjacent Cambridge. MSAs derive their appeal from a strong economic logic, but their construction requires qualitative analysis and is very time-consuming. Therefore, MSAs have been constructed only for the 276 most populated cities in the US, and the corresponding Zipf’s law has been documented only for the upper tail of the distribution (Gabaix and Ioannides 2004; Soo 2005). 
Two main alternatives to the MSAs have been proposed in the literature. One method is to use administrative or legal borders of cities to define so-called “places” as done by Eeckhout (2004) and Moshe Levy (2009). The analysis of 25,359 places in the US has suggested that Zipf’s law holds in the upper tail (Levy 2009; Ioannides and Spyros Skouras 2009) but fails in the bulk of the distribution, as legally defined cities follow a log-normal distribution rather than a power law (Eeckhout 2004, 2009). The advantage of this definition is that it allows the study of the distribution of cities of all sizes. Still, it is problematic to define cities through their fairly arbitrary legal boundaries (the places method treats Cambridge and Boston as two separate units), and, indeed, this is why researchers prefer agglomerations such as MSAs whenever such constructs are available. A second approach is to construct cities from micro data (Gilles Duranton and Henry G. Overman 2005; Marcy Burchfield et al. 2006; Elena G. Irwin and Nancy E. Bockstael 2007; Guy Michaels, Ferdinand Rauch, and Stephen J. Redding 2008; Thomas J. Holmes and Sanghoon Lee 2009; Tomoya Mori and Tony E. Smith 2009). In particular, Holmes and Lee (2009) consider cities to be individual cells of six-by-six miles, for which the size distribution is much less fat-tailed than Zipf’s law. However, this is probably because constraining cities to areas of six-by-six miles makes it nearly impossible to find a very large city. Hence, because of these methodological difficulties, the shape of distribution of agglomerations beneath the few hundred largest cities is still an open problem. 
Here we build on an algorithm, the City Clustering Algorithm (CCA), recently introduced (Rozenfeld et al. 2008) and based on previous studies done by Makse, Shlomo Havlin, and Stanley (1995) to build cities “from the bottom up.” The algorithm defines a “city” as a maximally connected cluster of populated sites defined at high resolution. Namely, a population cluster is made of contiguous populated sites within a prescribed distance l that cannot be expanded: all sites immediately outside the cluster have a population density below a cutoff threshold. Rather than defining a city as one cell, as done by Holmes and Lee (2009), our method defines an agglomeration as a maximally connected cluster of potentially many cells. Hence the CCA operationalizes in a simple, reproducible way, an intuitive idea used by statistical institutes (Shlomo Angel, Stephen C. Sheppard, and Daniel L. Civco 2005). 
We find that Zipf’s law holds, to a good approximation, in Great Britain (GB) and the US, for both populations and areas. We also find that density has only a weak correlation with population and area. We propose that the two facts of Zipf’s law for populations and areas could serve as tight constraints on models of cities. 
In Section I we present the analyzed data and explain the CCA. In Section II we present our results for the population distribution of CCA clusters in GB and the US. We also compare the CCA clusters with US census MSAs and places and present a formal test of robustness of our clustering method. In Section III we show the results of the area distribution of CCA clusters in GB and the US and present a study of the correlations between densities, areas, and populations for CCA clusters. In Section IV we discuss the consequences posed by our findings, and summarize our conclusions. 
The GB data are uniformly gridded at high resolution. They consist of a grid of cell size 200 meters by 200 meters overlaid on the area of GB for which the population in each cell is given. The source of the GB data is the ESRC (1981, 1991 population census, Crown Copyright and ESRC purchase, 2009) and is composed of 5.75 million square cells comprising a total population of about 55 million inhabitants in 1991.
The data for the US consist of the location and population of 61,224 points located throughout the US (US Census Bureau 2001). Each point corresponds to a Federal Information Processing Standards (FIPS) census tract code (National Institute of Standards and Technology 2008) generated by the US Census Bureau and ranging in population from 1,500 to 8,000 people, with a typical size of about 4,000 people. FIPS codes are uniquely specified by 11 digits. The first two digits correspond to the state code, the next three to the county within the state, and the next six to the census tract code. For example, FIPS 36061016500 corresponds to New York State (36), NY County (Manhattan, 061), census tract 016500, which is an area ranging from 58th Street to 60th Street and from 8th Avenue to 9th Avenue. Figure 1 shows all FIPS for Manhattan in New York City and its surroundings. The location of the FIPS is not always equidistant. For instance, the shortest distance between two FIPS (Euclidean distance between the centroid of two FIPS) is about 100 meters (m), as in Manhattan, while in less populated areas like Wyoming, FIPS can be separated by about 100 kilometers (km). We note that there is some endogeneity in FIPS, which aim at gathering a roughly constant population size, and thus might be problematic for the analysis of areas (FIPS with a large area are less dense by construction). We are comforted by the fact that the US results are broadly similar to the GB results, which are made from finer-grained and hence arguably higher-quality raw data. All datasets and results used and presented in this work may be downloaded from Rozenfeld et al. (2011). 
We start this section by providing a detailed explanation of the CCA (Rozenfeld et al. 2008). As mentioned before, the original data for GB are already gridded at a resolution of 200 m by 200 m. We may change the data resolution by constructing a dataset at a resolution of l by l by simply merging cells from the original dataset. For example, to construct a dataset at a resolution of 400 m by 400 m we merge four cells of the original data into larger square cells, or to obtain a resolution of 1 km by 1 km we merge 25 cells from the original data. Once the cell size, or coarse-graining level, l, is selected, we start the CCA. In panel A of Figure 2 we show four steps of the CCA when it is applied to GB. To define a CCA cluster, we first locate a populated cell. Then, we recursively grow the cluster by adding all nearest-neighbor cells with a population density, D, larger than a threshold D. 
The cluster stops growing when there is no neighboring cell outside the cluster with population density. In this work, to minimize the number of free parameters, we set the threshold, and therefore clusters are recursively grown by merging all populated cells in the immediate neighborhood of the cluster. Once the clusters are built, we calculate the population of a cluster as the sum of the populations of all cells within the cluster. 
The data for the US do not allow simply merging neighboring cells to build clusters. In panel B of Figure 2 we show four steps of the CCA when it is applied to the US. We start a CCA cluster by locating a populated site. Then, we recursively grow the cluster by adding all nearest-neighbor sites (populated sites within a distance smaller than the coarse-graining level, l, from any site within the cluster) with a population density, D, larger than a threshold D. Notice that the distance between two FIPS is measured as the Euclidean distance between their geographical centroids. The cluster stops growing when no site outside the cluster with population density is at a distance smaller than l from the cluster boundary. Since in this work we set, clusters are grown by merging all populated sites within a distance smaller than l from any site within the cluster. We call this version of the CCA the continuum CCA, while the version applied to GB is the discrete CCA (see Figure 2). Once the clusters are built, we calculate the population of a cluster as the sum of the populations of all sites within the cluster. Panel A of Figure 3 shows a map of all identified clusters in the continental US where gray levels correspond to the cluster population, and panel B shows a detail of the clusters in the northeastern US for different l. 
A noteworthy feature of both discrete and continuum CCA is that, in contrast to what is observed for cities that are defined using commuting thresholds (like MSAs in the US) where the resulting agglomerations depend on the choice of the initial point (US Census Bureau 2009), the outcome of the CCA is independent of the initial condition. 
We analyze the population data in GB and the US to obtain the probability density function, P, measuring the probability that a cluster has a population between s and. Figure 4 displays the population distribution of the CCA clusters in GB for. For clusters with a population above a cutoff inhabitants, the GB population follows a power law of the form 
with an exponent of (in approximate accordance with the value of Zipf’s law) to a good degree of approximation. Using an OLS regression, we estimate for (1,008 clusters with 83 percent of the country’s population) a Zipf exponent (the notation ± denotes two standard errors). 
Figure 5 shows the results of P for the US for and, for which we obtain 30,201, 23,499, and 19,912 clusters, respectively. We find that the population distribution also follows a power law, as for GB. For example, when we estimate the exponent for and for clusters with inhabitants (comprising 63 percent of the country’s population), we find using an OLS estimator. 
To formally study the validity of our power law fits, we employ two tests for goodness of fit: the standard Kolmogorov-Smirnov (KS) test, and a test proposed by Gabaix and Ibragimov (Gabaix 2009; Gabaix and Rustam Ibragimov 2011) offering a simple quantification of possible deviations from a pure power law. In the KS test one does not reject the hypothesis that the empirical cumulative distribution function (CDF) follows a power law (with an exponent given by the OLS estimation shown above) at the 1 percent confidence level if the statistic D satisfies (M. A. Stephens 1974). When we apply the KS test to GB we obtain a statistic of when. On the other hand, for the US we obtain when. The test for quadratic deviations proposed by Gabaix (2009) and Gabaix and Ibragimov (2011) is used to determine if a power law is adequate to describe the city size distribution. The method is as follows. Sort the cities according to their rank i (being the largest city) and run the OLS regression 
where (the power law exponent) and q (the quadratic deviation from a power law) are the parameters to estimate, and. The terms corrects a small sample bias. The recentering term ensures that the exponent is the same whether the quadratic term is included or not, and therefore may be estimated beforehand using a simple linear OLS. The quadratic test formalizes the intuition that a pure power law has in the asymptotic limit, so a high value of q indicates deviations from power law behavior. Under the null hypothesis of a power law, for large samples converges to a standard normal distribution (where N is the number of data-points). With probability 0.99, a standard normal is less than 2.57 in absolute value. Hence, let be the critical value for the absolute value of the quadratic term q at the 1 percent confidence level. If we reject the hypothesis that the data are well described by a power law since the quadratic term becomes significant. Otherwise, if the quadratic term is insignificant and we do not reject the power law hypothesis. 
For the US, when we consider the distribution of city sizes for cities larger than for km, we obtain and. Since we conclude that we can disregard the quadratic correction to the OLS fit and consider that the power law describes the empirical distribution of city sizes. In the case of GB, we consider and, for which and. Although q and q are very close, the fact that indicates that we cannot reject the hypothesis that the power law describes the city size distribution for GB. We conclude that Zipf’s law is a good description of city sizes with population above inhabitants in the US and inhabitants in GB. This comprises 1,947 clusters (for) and a population of 171.3 million out of a total population of 271.1 million in the US, and 1,007 clusters (for) and a population of 45.3 milllion out of a total population of 54.5 million in GB, in contrast to previous samples (Soo 2005) typically having a few hundred cities. The values for s* at which the KS and Gabaix-Ibragimov tests do not reject a power law, although not exactly the same, are within the same order of magnitude. Both results suggest that Zipf’s law is valid for a surprisingly large range of values of s and for a large number of cities in both GB and the US. 
So far, we have focused only on the part of the distribution where a power law fit could not be statistically rejected. Now, somewhat more loosely, we turn to a visual inspection of Figure 4 and Figure 5. We see that the distribution is arguably well approximated by a power law, in a region covering cities above 300 inhabitants in GB, and cities above 3,000 inhabitants in the US. In part, these cutoffs are driven by the coarseness of the initial data; it is conceivable that studies with finer-grained initial data would conclude that the power law cannot be rejected starting with an even smaller minimum city size. The deviations from the power law, while statistically significant, are not very large economically. Hence, we also submit that, for the modeling of cities, the domain of an approximate power law is quite large. This domain comprises 9,214 clusters and a population of 53.1 million (96 percent of the total population) in GB, and 17,609 clusters and a population of 259.3 million (96 percent of the total population) in the US. 
Although the CCA allows one to choose the observation level of population clusters, l, it may be desirable to have an objective way to choose l to ease comparison between CCA clusters and other constructions of agglomerations.3 For this purpose, we perform a comparison with the MSAs in the US, which may be considered a benchmark for plausibly well-constructed cities. MSAs are defined starting from a highly populated central county with population larger than 50,000 and adding its surrounding counties if they have social or economic ties such as large commuting patterns between the regions. Panels A and B of Figure 6 show a comparison between the MSAs of the northeastern US and the clusters obtained using CCA. 
Figure 7 shows the Zipf exponent for the US for several values of l, indicating that the Zipf exponent has small variations for different values of l. We observe that the exponent remains approximately within 5 percent of the Zipf value in the range km. 
In order to find the value of l that best matches the MSAs, we match each MSA with the most populated overlapping CCA cluster. For this purpose, from the US Census Bureau, we obtain the counties (and corresponding FIPS) that belong to each MSA. An overlap between an MSA and a CCA cluster exists if they share at least one FIPS code. This overlapping procedure leads to several CCA clusters corresponding to one particular MSA. To obtain a one-to-one correspondence among all overlapping CCA clusters we select the one with the largest population. We compare the size of the obtained CCA cluster with the corresponding MSA by computing the correlation, between the logarithm of the cluster population, and the logarithm of the population of the MSA. Panel A of Figure 8 shows the cross-plot of log versus for displaying an approximately linear behavior. Panel B shows the correlation analysis between CCA clusters and MSAs by plotting for other values of l. We quantify the regression, by measuring the value of the linear regression slope b as a function of l. We find that for. Correlation in log sizes is very good for values of l between 2 km and 6 km; the correlation, displayed in panel B, is very high for this range of l. We find that ρ(l) exhibits a maximum value of for km, so that we consider km as the optimal value. 
We study the differences between MSAs and CCA clusters in the US for by defining the “relocation fraction,” R the fraction of the population that needs to be relocated from the MSA i to the CCA cluster i (or vice versa) in order for both to have the same population: 
We find that the mean value of R is 0.28. This indicates that, on average, among all matches between MSAs and CCA clusters, 28 percent of their population must be relocated for them to have the same population. We also find that the median value of R is 0.30. 
Another plausible measure of similarity between MSAs and CCA clusters is based on the Euclidean distance. We define the distance, d, between MSAs and CCA as 
where the sum is over all the MSAs and their corresponding CCA clusters. In panel C of Figure 8 we show the distance between overlapped MSAs and CCA clusters as a function of l. We find that when km the distance (in population) is minimized, and that it is very low between in approximate agreement with the log correlation analysis of panels A and B. 
In conclusion, there is a good level of agreement between the MSAs and our clusters in the domain where MSAs are available. However, MSAs have been constructed by the US census only for large agglomerations. Our clusters allow researchers to study small as well as large agglomerations. 
In addition to the MSAs, we compare the CCA clusters with US Census Bureau “places” previously analyzed in Eeckhout (2004) where a log-normal distribution of city sizes was found. We first find a one-to-one correspondence between CCA clusters and places, in analogy to the previous match between MSAs and CCA clusters. In contrast to MSAs, US census places take into account all towns, villages, and cities and are based only on their administrative or political boundaries (Eeckhout 2004; Holmes and Lee 2009). The smallest and largest places are Lost Spring, Wyoming, with exactly one resident, and the political entity of New York City (Manhattan, Brooklyn, Queens, Bronx, and Staten Island) with population 8.0 million. 
From the US Census Bureau we obtain the geographical location of each US census place. Then, we identify each place with a unique FIPS code. Accordingly, each place is associated with a unique CCA cluster. This association leads to many places corresponding to a single CCA. To obtain the one-to-one correspondence, among all overlapping places we consider the one with the largest population. 
In Figure 9, panel A, we show that the smallest cities found with the CCA do not correspond well to US census places; however, for cities above population, CCA and census places do exhibit a correlation coefficient of. A detailed comparison between CCA clusters and places shows that the number of small CCA clusters is smaller than that for places because the CCA tends to group small places that are geographically connected into a larger cluster. Therefore, the construction based on places overestimates the number of small cities and underestimates the number of large cities in comparison with CCA, resulting in the size distribution of places being less fat tailed than the distribution for CCA clusters. This discrepancy, which may find its root in the fact that places are purely based on legal boundaries of locations (Holmes and Lee 2009), may explain the finding of a log-normal distribution of places (Eeckhout 2004), whose full elucidation is beyond the scope of this paper. Here, we show results for km as representative, but other values of l lead to the same conclusions. 
We also perform a comparison between MSAs and places. In Figure 9, panel B, we observe a good congruence in the whole range for which MSAs are defined. Notice that MSAs by definition have a minimum population of 50,000. Therefore, when looking for the one-to-one correspondence, only large places are considered, leading to a good congruence, as found between a large CCA cluster and large places, with correlation. 
In this section we test whether the results shown in Section IIA could be forced by the CCA or, in other words, whether they could be an artifact of the CCA. We randomize the data of GB by placing all populated cells at random positions throughout a rectangle of the same area as GB. Then we apply the CCA to obtain the corresponding clusters for the new randomized data. In the case of the US, we randomize the data by placing all 61,224 FIPS at random positions in a rectangle of the same area as the US. Then we apply the CCA to obtain the corresponding clusters. This randomization procedure preserves the population of each cell (in the case of GB) and of each FIPS (in the case of the US). In panels A and B of Figure 10, we show the population distribution for the shuffled data and for the original data for GB and the US. These results show that the shuffled data do not exhibit Zipf’s law. For example, in the US the largest cluster for the shuffled data contains 196,112 inhabitants: the reshuffling prevents the emergence of very large clusters. This suggests that the CCA is not forcing the data to present a power law for the population distribution, and that Zipf’s law arises purely from the data. 
The CCA presents a unique feature in that it allows the definition of the area of cities not based on administrative boundaries. Such a feature is not present in agglomerations defined by places or MSAs. Thus, the spatial analysis of the CCA allows us to examine a possible feature of the origin of Zipf’s law: highly populated cities may have a large geographic area. Therefore, it is of interest to study the distribution of areas, P(A), defined by the CCA. 
As explained above, the data of GB consists of a high-resolution grid with cell size 200 m by 200 m. Therefore, after applying the CCA, we calculate the area of a cluster in GB as the number of cells in the cluster multiplied by the area of a cell. 
The case of the US is more complicated. The data consist of 61,224 populated points on the map. Each point corresponds to a different FIPS code, defined by the US Census Bureau. US FIPS are simply a partition of the map of the US, so that any point in the map belongs to one FIPS code, and each FIPS has an associated area which is given by the US Census Bureau in the dataset. In the US, FIPS codes are not homogeneously distributed. In the New York City area, there is high resolution, which means that there are many FIPS covering a small area, but in the states of Wyoming or Utah the resolution is quite low, so that there are FIPS with a large area. For instance, FIPS in Manhattan typically cover an area of about 0.20 km2 while in the state of Utah FIPS 49003960100 covers an area of 15,962 km2. Therefore, when l is of the order of a few kilometers, a FIPS in the Wyoming area will remain isolated in its own cluster, but still its area will be extremely large, typically a couple of orders of magnitude larger than l. Therefore, since the area of isolated points is very large, these points will appear at the tail and in the middle of the distribution P(A), overestimating the outcome for middle and large areas. Accordingly, in order to compute P(A), we do not take into account clusters containing only one or two FIPS since they overestimate the amount of land they cover. Moreover, the population of those isolated points is typically small and rarely exceeds. In fact, we find that removing all clusters with only one or two FIPS is practically the same as removing all clusters with populations smaller than 10,000: only 7 percent of clusters with one or two FIPS have a population larger than 10,000. 
In panel A of Figure 11 we report the results of P(A) for GB. We find a power law distribution of the form 
with a Zipf exponent for. In Figure 11, panel B, we show the results of P(A) for the US. As for GB, we find that the area distribution for the US follows a power law with exponent, for. This extends the results obtained in Makse, Havlin, and Stanley (1995) and Makse et al. (1998) for the distribution of areas in the regions of London, Berlin, and in GB. The result of Zipf’s law for areas in the US appears to be new. 
In Figure 12 we study the correlations between areas and populations for GB and the US. We find that the linear OLS regression leads to the results shown in Table 1, indicating a strong correlation between areas and population in log sizes (Julian D. Marshall 2007). Indeed, the finding of indicates that population is, to a good degree of approximation, simply proportional to area. This finding motivates us to study city density in more detail. 
In this section we study the population density, We study the behavior of D versus s and A by performing the linear regressions, and. Table 2 shows the results of the OLS regression estimates with and for GB, and and for the US (other choices of l lead to the same conclusions). We find that population density has very little relation to area: the coefficients are quite close to zero. It has a slightly higher link with population. 
Of course, measurement error in the areas may bias the value of b toward −1 in the case of the regression of log density on log area. This measurement error probably explains the negative b found for the US. As FIPS try to have a homogeneous population around 5,000 inhabitants, low-density FIPS have large areas. Hence, the GB results, which are not subject to that endogeneity bias, should be considered the main source of information on density. They show a positive, though small, link between density and size. 
We also examine population density weighted by the population of the CCA cluster. This measurement allows us to have a sense of the density of an average person in a cluster. We define the weighted density D, for a given cluster i, in the following manner. Assume cluster i contains n cells (for GB) or FIPS (for the US), each with population s and area. The density of a cell is therefore. We define the weighted density of cluster i as. 
Notice that the regular density of cluster i (as studied above in this section) is simply. We have replicated the same regressions reported in Table 2 using the weighted density D. Table 3 shows the results of the OLS regression analysis. The weighted density shows results that are similar to those in Table 2, especially for GB, where the data are more fine-grained. 
The link between density and city size is perhaps surprisingly small. Some urban systems, like New York City, are quite dense, but even then, the effects are moderate: the density of New York City is only 3.7 times the national median even though its population is 485 times the national median. Of course, we obviate here a consideration of the interesting heterogeneity within cities; for the purposes of this paper such a study may be deferred to later work. We find that density has a very small dispersion: the standard deviation of its natural logarithm is 0.09 for GB and 0.28 for the US. In contrast, the corresponding quantity for area and population is about one. Hence, we conclude that city area covaries greatly with population, and only a little bit with density. We next discuss the link of this and earlier findings with the theoretical literature. 
We next discuss to what extent existing theories explain or do not explain our results. Recent economic theories that are compatible with Zipf’s law for populations generally rely on the existence of random growth (David G. Champernowne 1953; Herbert Simon 1955; Krugman 1996; Gabaix 1999a; Ofer Malcai, Ofer Biham, and Sorin Solomon 1999; Dobkins and Ioannides 2001; Donald R. Davis and David E. Weinstein 2002; Eeckhout 2004; Claes Andersson, Alexander Hellervik, and Kristian Lindgren 2005; Gilles Duranton 2006; Duranton 2007; Esteban Rossi-Hansberg and Mark L. J. Wright 2007; Juan-Carlos Cordoba 2008; Gabaix 2009, and references therein): cities follow a proportional growth process where the distribution of the percentage growth rate is the same for small and large cities. Small cities, however, grow faster (Glaeser et al. 1992; Glaeser, Jose A. Scheinkman, and Andre Shleifer 1995; Rozenfeld et al. 2008), which prevents the distribution from becoming degenerate. Some theories obtain Zipf’s law only approximately, and do not obtain it over the range that we find in the present work. 
None of those existing models, however, generates a Zipf’s law for areas. Hence, it seems important to develop such models. We took a preliminary stab at this in the NBER working paper version of the present paper (Rozenfeld et al. 2009), with a model featuring endogenous areas, and generating Zipf’s law for population and areas. In such a model, the need of the city to expand pushes inhabitants to extend the area of the city (as in Rossi-Hansberg and Wright 2007; Stijn Van Nieuwerburgh and Pierre-Oliver Weill 2010). Agents have Cobb-Douglas preferences on goods and real estate, and hence spend a constant fraction on both items, as found in Morris A. Davis and Francois Ortalo-Magné (forthcoming). There is a random growth of city productivity as in Erzo G. J. Luttmer (2007), with a reflecting barrier. This minimalist model generates (in the limit of small frictions) a Zipf’s law for areas and for cities. The conclusion is that Cobb-Douglas preferences for goods and housing, and random growth with small frictions, generate a Zipf’s law for population and areas. A defect of this model, however, is that it generates a constant density across cities, and hence fails to generate the positive though small elasticity of density with respect to city size. 
To do so, it seems warranted to add positive and negative agglomeration externalities (J. Vernon Henderson 1974), which are also compatible with random growth, as in Gabaix (1999b), Eeckhout (2004), and Rossi-Hansberg and Wright (2007). Those external effects are conceptually important but tend to be quantitatively moderate when viewed through the lens of scaling. For instance, Antonio Ciccone and Robert E. Hall (1996), Glaeser (1998), Stuart S. Rosenthal and William C. Strange (2004), Patricia C. Melo, Daniel J. Graham, and Robert B. Noland (2009), Luis M. A. Bettencourt et al. (2007), Davis, Jonas D. M. Fisher, and Toni M. Whited (2009), and David Albouy (2009) report quantitatively moderate deviations from the hypothesis that cities are constant-return-to scale: a recent meta-analysis reports that the median estimated elasticity of productivity with respect to city size is 0.04 (Melo, Graham, and Noland 2009). 
Such a small impact will modify the Pareto exponent of order unity predicted by random growth models by only a small factor, on the order of magnitude of 0.04. However, these models will help better understand the behavior of density and other “per capita” and “per area” variables. 
Hence, to move forward, high on the agenda is the formulation and calibration of a model featuring external effects, which would account for the small but real scalings in real estate prices, productivity, amenities, etc., with city sizes, together with approximate Zipf’s laws for population and areas. 
Another open question that begs a theoretical answer is the following: why is the distribution of “legal” cities broadly lognormal (Eeckhout 2004, 2009; Levy 2009; Ioannides and Skouras 2009), while the distribution of geography-based “agglomerations” is quasi-Zipf distributed? A model studying the evolution of both “economic” and “legal” units should presumably explain those facts. (See Holmes and Lee 2009 for a discussion of the “legal” definition of cities.) 
Finally, most random growth modelling, focused on explaining the city size distribution, has eschewed a detailed analysis of the heterogeneity within a city, such as the ones in the classical models of the monocentric city and the more recent developments of Masahisa Fujita and Jacques-Francois Thisse (2002), Robert E. Lucas and Rossi-Hansberg (2002), and Steven Brakman, Harry Garretsen, and Charles van Marrewijk (2009). Further unification of those two “macro” and “micro” strands of thinking would be very useful. 
To sum up, we have used a “bottom-up” approach, which allows us to construct cities independently of their “legal” definition, instead using a more geographical and economic basis. The resulting data extend the domain of validity of Zipf’s law to a considerable range: we show that when cities are constructed independently of their administrative boundaries, Zipf’s law appears to be a genuine regularity for the bulk of the city size distribution. Second, we are able to analyze city areas, which allows for the estimation of a potentially very important quantity in urban economics, and anchors the definition of cities much more in geography. We find evidence for a power law distribution of areas, with an exponent close to one. Third, we find a positive but small link between density and city size. Fourth, we provide a public good by providing the correspondence between ZIP code and CCA clusters (Rozenfeld et al. 2011), so that other researchers can use the agglomerations constructed with the CCA and study dimensions of local economics other than areas and populations. 
In the present work, we have investigated only two countries. It is natural to extend this study to more countries, an investigation that might offer confirmation of the scaling laws for areas, population, and density that we have found, and also perhaps find economically interesting deviations from them. We think that this bottom-up approach could be useful for a host of urban questions. Combining our geographical approach with land price data could lead to a much more constrained and geography-based understanding of the micro (within a city) and macro (across cities) structure of cities. 
